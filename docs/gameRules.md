# 印加宝藏
[飞书云文档](https://icn5bnei7pa7.feishu.cn/wiki/CvlLwbtLsifECgkl1TGcOUeonQe)

游戏需要在线匹配3个玩家，需要投入$entranceFee才能入场。

进入游戏后每个玩家初始在营地拥有$initVal金币。

游戏一共进行3轮。

每轮游戏按照下列阶段的顺序进行：

- 选择阶段
  - 玩家选择走一步或者回营地
  - 玩家无法看到其他玩家的行为
  - 所有玩家选择完毕后进入判定阶段
- 判定阶段
  - 若玩家选择返回营地，可以获得沿路所有地块上剩余的金币。若多名玩家同时返回则多名玩家仍需平分金币
  - 判定是否还有玩家在路上，若无玩家在路上进入结算阶段
  - 判定下一地块是陷阱或者奖励
    - 若是陷阱则$trapNum（每轮游戏开始时为0）加1
      - 若$trapNum为2则所有尚未返回营地的玩家丢失携带的所有金币，并强制返回营地。进入结算阶段
    - 若是奖励则随机将0~$maxReward分给所有还在路上的玩家，未能整除的部分留在当前地块。进入选择阶段
- 结算阶段
  - 将玩家身上的金币转移到营地
  - 判断是否已经经过3轮游戏，若已经过3轮游戏则游戏结束，进行最终结算
    - 金币总额第三名的玩家将其$entranceFee转移给第一名玩家，第二名玩家无收益也无损失
  - 进入新一轮游戏的选择阶段

